pathObs <- file.path(dataFolder, 'observations.xlsx')
download.file(urlObs, pathObs)
urlObs <- 'https://github.com/RMHogervorst/unicorns_on_unicycles/blob/master/observations.xlsx?raw=true'
download.file(urlObs, pathObs)
download.file(urlObs, pathObs)
unicorns <- read_excel(paste(dataFolder,'observations.xlsx', sep = ''))
library(readxl)
library(dplyr)
library(tidyverse)
library(ggplot2)
unicorns <- read_excel(paste(dataFolder,'observations.xlsx', sep = ''))
unicorns <- read_excel(paste(dataFolder,'observations1.xlsx', sep = ''))
urlObs <- 'https://github.com/RMHogervorst/unicorns_on_unicycles/raw/master/observations.xlsx'
download.file(urlObs, pathObs)
download.file(urlObs, pathObs, mode="wb")
dataFolder <- './data/'
urlObs <- 'https://github.com/RMHogervorst/unicorns_on_unicycles/raw/master/observations.xlsx'
urlSales <- 'https://github.com/RMHogervorst/unicorns_on_unicycles/raw/master/sales.xlsx'
pathObs <- file.path(dataFolder, 'observations.xlsx')
pathSales <- file.path(dataFolder, 'sales.xlsx')
unicorns <- read_excel(pathObs, sep = '')
unicorns <- read_excel(pathObs)
bikes <- read_excel(pathSales)
download.file(urlSales, pathSales, mode="wb")
bikes <- read_excel(pathSales)
names(bikes)
names(unicorns)
View(unicorns)
View(unicorns)
View(bikes)
View(bikes)
if(!file.exists("data")){
dir.create("data")
}
dataFolder <- './data/'
urlObs <- 'https://github.com/RMHogervorst/unicorns_on_unicycles/raw/master/observations.xlsx'
urlSales <- 'https://github.com/RMHogervorst/unicorns_on_unicycles/raw/master/sales.xlsx'
pathObs <- file.path(dataFolder, 'observations.xlsx')
pathSales <- file.path(dataFolder, 'sales.xlsx')
#downloads in 'ASCII' by default. Changed to binary 'wb'
download.file(urlObs, pathObs, mode="wb")
download.file(urlSales, pathSales, mode="wb")
unicorns <- read_excel(pathObs)
bikes <- read_excel(pathSales)
plot(unicorns$year, unicorns$bikes)
plot(y=unicorns$bikes, x=unicorns$year)
plot(x=unicorns$year, y=unicorns$bikes)
View(unicorns)
View(unicorns)
plot(x=unicorns$year, y=unicorns$pop)
barplot(x=unicorns$year, y=unicorns$pop)
barplot(x=unicorns$year, y=unicorns$pop)
barplot(x==unicorns$pop)
barplot(x=unicorns$pop)
barplot(x=unicorns$countryname)
hist(x=unicorns$countryname)
hist(x=unicorns$pop)
plot(x=unicorns$pop)
barplot(x=unicorns$year, y=unicorns$pop)
plot(x=unicorns$year, y=unicorns$pop)
ggplot(unicorns, aes(year, pop, col=countryname))+geom_point()
ggplot(unicorns, aes(year, pop, col=countryname))+geom_line()
ggplot(unicorns, aes(year, pop)+geom_line()
)
ggplot(unicorns, aes(year, pop))+geom_line()
ggplot(unicorns, aes(year, pop, col=countryname))+geom_line()
ggplot(unicorns, aes(year, pop, col=countryname))+geom_line(siez=2)
ggplot(unicorns, aes(year, pop, col=countryname))+geom_line(size=2)
View(bikes)
View(bikes)
View(unicorns)
View(unicorns)
View(unicorns)
ggplot(unicorns, aes(year, pop, col=countryname))+geom_line(size=2)
ggplot(unicorns, aes(year, pop, col=countryname))+geom_line(size=2)
library(readxl)
library(dplyr)
library(tidyverse)
library(ggplot2)
## ----- Download Data ----- ##
if(!file.exists("data")){
dir.create("data")
}
dataFolder <- './data/'
urlObs <- 'https://github.com/RMHogervorst/unicorns_on_unicycles/raw/master/observations.xlsx'
urlSales <- 'https://github.com/RMHogervorst/unicorns_on_unicycles/raw/master/sales.xlsx'
pathObs <- file.path(dataFolder, 'observations.xlsx')
pathSales <- file.path(dataFolder, 'sales.xlsx')
#downloads in 'ASCII' by default. Changed to binary 'wb'
download.file(urlObs, pathObs, mode="wb")
download.file(urlSales, pathSales, mode="wb")
unicorns <- read_excel(pathObs)
bikes <- read_excel(pathSales)
## ----- Download Data ----- ##
if(!file.exists("data")){
dir.create("data")
}
dataFolder <- './data/'
urlObs <- 'https://github.com/RMHogervorst/unicorns_on_unicycles/raw/master/observations.xlsx'
urlSales <- 'https://github.com/RMHogervorst/unicorns_on_unicycles/raw/master/sales.xlsx'
pathObs <- file.path(dataFolder, 'observations.xlsx')
pathSales <- file.path(dataFolder, 'sales.xlsx')
#downloads in 'ASCII' by default. Changed to binary 'wb'
download.file(urlObs, pathObs, mode="wb")
download.file(urlSales, pathSales, mode="wb")
unicorns <- read_excel(pathObs)
bikes <- read_excel(pathSales)
ggplot(unicorns, aes(year, pop, col=countryname))+geom_line(size=2)
View(bikes)
View(bikes)
bikes$name_of_country
bikes$name_of_country == bikes$name_of_country__1
sum(bikes$name_of_country == bikes$name_of_country__1)
sum(bikes$name_of_country != bikes$name_of_country__1)
bikes$name_of_country != bikes$name_of_country__1
sum(bikes$name_of_country != bikes$name_of_country__1)
sum(bikes$year != bikes$year__1)
sum(bikes$name_of_country != bikes$name_of_country__1)
sum(bikes$year != bikes$year__1)
rm?
)
?rm
bikes %>%
select(-ends_with("_1"), -ends_with("_2"))
View(bikes)
View(bikes)
bikesClean <- bikes %>%
select(-ends_with("_1"), -ends_with("_2"))
View(bikesClean)
View(bikesClean)
names(bikesClean)
names(unicorns)
df <- merge(x=bikesClean, y=unicorns, by.x = "name_of_country", by.y = "countryname")
View(df)
View(df)
simpleCap('aaaa')
toupper(unicorns$countryname)
unicorns$countryname <- toupper(unicorns$countryname)
df <- merge(x=bikesClean, y=unicorns, by.x = "name_of_country", by.y = "countryname")
df <- merge(x=bikesClean, y=unicorns, by.x = c("name_of_country", "year"), by.y = c("countryname", "year"))
sum(bikesClean$year != unicorns$year)
sum(bikesClean$name_of_country != unicorns$countryname)
qqplot(bikesClean$name_of_country, unicorns$pop)
qqplot(df$name_of_country, unicorns$pop)
qqplot(df$name_of_country, df$pop)
qqplot(df$name_of_country, df$pop)
df$pop
df$name_of_country
View(df)
View(df)
ggplot(df, aes(name_of_country, pop))+geom_bar()
ggplot(df, aes(name_of_country)) + geom_bar()
table(df$name_of_country)
df %>%
select(name_of_country, pop) %>%
group_by(name_of_country) %>%
summarise(pop)
df %>%
select(name_of_country, pop) %>%
group_by(name_of_country) %>%
summarise(pop())
df %>%
select(name_of_country, pop) %>%
group_by(name_of_country) %>%
summarise(sum(pop))
df %>%
select(year, pop) %>%
group_by(year) %>%
summarise(sum(pop))
df %>%
select(name_of_country, pop) %>%
group_by(name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop)) + geom_bar()
df %>%
select(name_of_country, pop) %>%
group_by(name_of_country) %>%
summarise(pop=sum(pop))
df %>%
select(name_of_country, pop) %>%
group_by(name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(name_of_country, pop)) + geom_bar()
df %>%
select(name_of_country, pop) %>%
group_by(name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(name_of_country, pop)) + geom_point()
df %>%
select(name_of_country, pop) %>%
group_by(name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(name_of_country, pop)) + geom_hist()
df %>%
select(name_of_country, pop) %>%
group_by(name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(name_of_country, pop)) + geom_histogram()
df %>%
select(name_of_country, pop) %>%
group_by(name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(name_of_country, pop)) + geom_col()
df %>%
select(year, pop) %>%
group_by(year) %>%
summarise(sum(pop)) %>%
ggplot(aes(year, pop)) + geom_col()
df %>%
select(year, pop) %>%
group_by(year) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop)) + geom_col()
df %>%
select(name_of_country, year, pop)
df %>%
select(name_of_country, year, pop) %>%
group_by(year) %>%
summarise(pop=sum(pop))
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop))
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, col=)) + geom_col()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, col=name_of_country)) + geom_col()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, col=name_of_country)) + geom_col(position = 'fill')
ggplot(aes(year, pop, fill=name_of_country)) + geom_col(
)
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, fill=name_of_country)) + geom_col()
df %>%
select(name_of_country, pop) %>%
group_by(name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(name_of_country, pop)) + geom_col()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, fill=name_of_country)) + geom_point()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, col=name_of_country)) + geom_point()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, col=name_of_country)) + geom_line()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, col=name_of_country)) + geom_line(size=1)
min(df$year)
max(df$year)
str(bikes)
str(unicorns)
summary(bikes)
head(bikes)
summary(bikes)
boxplot(df$total_turnover)
boxplot(df$total_turnover, horizontal = T)
table(df$total_turnover)
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, fill=name_of_country)) + geom_col()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, col=name_of_country)) + geom_line(size=1)
df$year
table(df$year)
str(unicorns)
head(unicorns)
summary(unicorns)
class(df$year)
is.numeric(df$year)
is.numeric(df$year[1])
df$year[1]
is.integer(df$year[1])
is.integer(df$yearL)
is.integer(df$year[1]L)
is.integer(df$year[1])
is.integer(df$year[1]L)
as.integer(df$year)
summary(df)
class(df$year)
df$year <- as.integer(df$year)
class(df$year)
class(df$year)
summary(df)
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, col=name_of_country)) + geom_line(size=1)
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, fill=name_of_country)) + geom_col()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, col=name_of_country)) + geom_line(size=1) +
scale_x_discrete()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, col=name_of_country)) + geom_line(size=1) +
scale_x_discrete(limits=c(1670, 1680))
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, col=name_of_country)) + geom_line(size=1) +
scale_x_continuous(limits=c(1670, 1680))
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, fill=name_of_country)) + geom_col()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>% filter(name_of_country=='AUSTRIA')
ggplot(aes(year, pop, fill=name_of_country)) + geom_col()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>% filter(name_of_country=='AUSTRIA')
ggplot(aes(year, pop)) + geom_col()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>% filter(name_of_country=='AUSTRIA') %>%
ggplot(aes(year, pop)) + geom_col()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>% filter(name_of_country=='AUSTRIA') %>%
ggplot(aes(year, pop)) + geom_col() + scale_x_continuous(limits=c(1670, 1680))
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>% filter(name_of_country=='AUSTRIA') %>%
ggplot(aes(year, pop)) + geom_col() + scale_x_discrete(limits=c(1670, 1680))
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>% filter(name_of_country=='AUSTRIA') %>%
ggplot(aes(year, pop)) + geom_col() + scale_x_discrete(limits=c(1670:1680))
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, col=name_of_country)) + geom_line(size=1) +
scale_x_discrete(limits=c(1670:1680))
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, fill=name_of_country)) + geom_col() +
scale_x_discrete(limits=c(1670:1680))
lm(year~pop, data=df)
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, fill=name_of_country)) + geom_point() +
scale_x_discrete(limits=c(1670:1680))
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(bikes, pop, fill=name_of_country)) + geom_point()
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(bikes, pop)) + geom_point()
df %>%
select(name_of_country, year, pop, bikes) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(bikes, pop)) + geom_point()
df %>%
select(name_of_country, year, pop, bikes) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop))
ggplot(df, aes(x=bikes, y=pop))
ggplot(df, aes(x=bikes, y=pop)) + geom_point()
lm(bikes~pop, data=df)
df %>% cor(bikes, pop)
cor(df$bikes, df$pop)
ggplot(df, aes(x=bikes, y=pop)) + geom_point(stat = 'lm')
ggplot(df, aes(x=bikes, y=pop)) + geom_point(stat = 'lm')
ggplot(df, aes(x=bikes, y=pop)) + geom_point(method='lm')
ggplot(df, aes(x=bikes, y=pop)) + geom_smooth(method = 'lm')#geom_point(method='lm')
ggplot(df, aes(x=bikes, y=pop)) + stat_smooth(method = 'lm')#geom_point(method='lm')
ggplot(df, aes(x=bikes, y=pop)) + geom_point(method='lm')+ geom_smooth(method = 'lm')
lm(bikes~pop, data=df)
summary(lm(bikes~pop, data=df))
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, fill=name_of_country)) + geom_col() +
scale_x_discrete(limits=c(1670:1680))
ggplot(df, aes(x=bikes, y=pop)) + geom_point()+ geom_smooth(method = 'lm')
ggplot(df, aes(x=bikes, y=pop)) + geom_point()+ geom_smooth(method = 'lm', se=FALSE)
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, fill=name_of_country)) + geom_col() +
scale_x_discrete(limits=c(1670:1680))
df %>%
select(name_of_country, year, bikes) %>%
group_by(year, name_of_country) %>%
summarise(bikes=sum(bikes)) %>%
ggplot(aes(year, bikes, fill=name_of_country)) + geom_col() +
scale_x_discrete(limits=c(1670:1680))
ggplot(df, aes(x=bikes, y=pop)) + geom_point()+ geom_smooth(method = 'lm', se=FALSE)
lm(bikes~pop, data=df)
unique(df$year)
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, fill=name_of_country)) + geom_col() +
scale_x_discrete(limits=c(1670:1680))
ggplot(df, aes(x=bikes, y=pop)) + geom_point()+ geom_smooth(method = 'lm', se=FALSE)
### --------------------------------------------------------------- ###
### Name of project: unicorns                                       ###
### User: Lorenzo                                                   ###
### Dataset:  https://github.com/RMHogervorst/unicorns_on_unicycles ###
### --------------------------------------------------------------- ###
# install.packages("readxl")
library(readxl)
library(dplyr)
library(tidyverse)
library(ggplot2)
## ----- Download Data ----- ##
if(!file.exists("data")){
dir.create("data")
}
dataFolder <- './data/'
urlObs <- 'https://github.com/RMHogervorst/unicorns_on_unicycles/raw/master/observations.xlsx'
urlSales <- 'https://github.com/RMHogervorst/unicorns_on_unicycles/raw/master/sales.xlsx'
pathObs <- file.path(dataFolder, 'observations.xlsx')
pathSales <- file.path(dataFolder, 'sales.xlsx')
#downloads in 'ASCII' by default. Changed to binary 'wb'
download.file(urlObs, pathObs, mode="wb")
download.file(urlSales, pathSales, mode="wb")
unicorns <- read_excel(pathObs)
bikes <- read_excel(pathSales)
# ggplot(unicorns, aes(year, pop, col=countryname))+geom_line(size=2)
## ------- Cleaning Data -------- ##
str(bikes)
head(bikes)
summary(bikes)
str(unicorns)
head(unicorns)
summary(unicorns)
#it seems that bikes has 4 columns with the same data. Let´s check it out
sum(bikes$name_of_country != bikes$name_of_country__1)
sum(bikes$year != bikes$year__1)
unicorns$countryname <- toupper(unicorns$countryname)
bikesClean <- bikes %>%
select(-ends_with("_1"), -ends_with("_2"))
df <- merge(x=bikesClean, y=unicorns, by.x = c("name_of_country", "year"), by.y = c("countryname", "year"))
df$year <- as.integer(df$year)
df %>%
select(name_of_country, year, pop) %>%
group_by(year, name_of_country) %>%
summarise(pop=sum(pop)) %>%
ggplot(aes(year, pop, fill=name_of_country)) + geom_col() +
scale_x_discrete(limits=c(1670:1680))
df %>%
select(name_of_country, year, bikes) %>%
group_by(year, name_of_country) %>%
summarise(bikes=sum(bikes)) %>%
ggplot(aes(year, bikes, fill=name_of_country)) + geom_col() +
scale_x_discrete(limits=c(1670:1680))
ggplot(df, aes(x=bikes, y=pop)) + geom_point()+ geom_smooth(method = 'lm', se=FALSE)
summary(lm(bikes~pop, data=df))
lm(bikes~pop, data=df)
lm(bikes~pop, data=df)
summary(lm(bikes~pop, data=df))
